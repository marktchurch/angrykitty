<html>
    <head>
        <title>AngryKitty Showcase - Authenticated REST Call</title>
        <script>
            // <![CDATA[
            function loadXMLDoc()
            {
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange=function()
                {
                    if (xmlhttp.readyState==4 && xmlhttp.status==200)
                    {
                        document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET","ajax_info.txt",false);
                xmlhttp.send();
            }

            function isLoggedIn() {
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange=function()
                {
                    if (xmlhttp.readyState==4 && xmlhttp.status==200)
                    {
                        document.getElementById("loggedin").innerHTML=xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET","/loggedin",true);
                xmlhttp.send();
            }
            // ]]>
        </script>
    </head>
    <body onload="isLoggedIn()">
        <h1>AngryKitty Showcase - Authenticated REST Call</h1>
        <div id="myDiv"><h2>Let AJAX change this text</h2></div>
        <div id="loggedin"></div>
        <button type="button" onclick="loadXMLDoc()">Change Content</button>
    </body>
</html>